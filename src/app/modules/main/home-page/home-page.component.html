<div class="grid grid-cols-12 gap-4 mx-4 my-3 ">
  <!-- phan o giua man hinh -->
  <div class="col-span-8">
    <div class="grid grid-cols-4 gap-4 mb-4">
      <!-- cac thong tin chung dang chu y -->
      <app-general-information *ngFor="let item of dataGeneralInfomation"
        class="2xl:col-span-1 md:col-span-2 sm:col-span-4" [img]="item.img" [title]="item.title" [value]="item.value">
      </app-general-information>
    </div>
    <!-- tiep nhan khach hang -->
    <div class="px-4 pt-2.5 bg-white rounded-xl box-border mb-4">
      <div class="grid grid-cols-12 mb-4.5">
        <div class="col-span-5 text-primary-1 text-header-1 font-semibold">
          Tiếp nhận khách hàng
        </div>
        <div class="col-span-7 flex">
          <button tds-button color="primary" class="mr-2.5">
            <span class="flex items-center">
              <i
                class="tdsi-plus-fill text-lg leading-none mr-2 rounded-full border-1 border-solid text-primary-1 bg-white"></i>Thêm
              tiếp nhận
            </span>
          </button>
          <div class="mr-2.5">
            <tds-select valueField="id" textField="name" placeholder="Lọc theo bác sĩ" disabledField="isActive"
              [data]="personOptionsdisplayWith | async" class="w-max">
              <ng-template tds-label-tmp let-item="item">
                Tên: {{ item.data.name }} - Tuổi: {{ item.data.age }}
              </ng-template>
            </tds-select>
          </div>
          <tds-form-field class="w-full">
            <input tdsInput placeholder="Tìm kiếm theo họ tên, sđt" autocomplete="off" />
            <span tdsPrefix><i class="text-neutral-1-500 tdsi-search-fill"></i></span>
          </tds-form-field>
        </div>
      </div>
      <div class="flex relative">
        <tds-tabset class="flex justify-between ct-tds-tabset-nav">
          <tds-tab *ngFor="let tab of tabsIcon2" [title]="titleTemplate">
            <ng-template #titleTemplate let-active="active">
              <div class="flex items-center font-semibold cursor-pointer text-body-2 px-4 py-1.5 relative mr-2 group"
                [ngClass]="{
                  'bg-primary-1': active,
                  'rounded-2xl': active,
                  'text-white': active,
                  'border-transparent text-neutral-1-400  hover:border-primary-1':
                    !active
                }">
                <span class="mr-2">{{ tab.name }}</span>
                <div class="text-caption-2 font-semibold py-0.5 px-1.5 rounded-full flex" [ngClass]="{
                    'text-white bg-primary-1': active,
                    'text-neutral-1-500 bg-neutral-3-100 group-hover:text-white group-hover:bg-primary-1':
                      !active
                  }">
                  {{ tab.count }}
                </div>
              </div>
            </ng-template>
            <div class="p-4 w-full bg-primary-3 rounded-xl mt-3" [ngSwitch]="tab.value">
              <div *ngSwitchCase="'1'">
                <ng-container [ngTemplateOutlet]="pane1"></ng-container>
              </div>
              <div *ngSwitchCase="'2'">
                <ng-container [ngTemplateOutlet]="pane2"></ng-container>
              </div>
            </div>
          </tds-tab>
        </tds-tabset>

        <div class="w-44 absolute right-0">
          <tds-pagination class="w-full" [pageSize]="10" [pageIndex]="1" [total]="250" [bordered]="false"
            [simple]="true">
          </tds-pagination>
        </div>
      </div>
    </div>
    <!-- dịch vụ trong ngày -->
    <div class="w-full bg-white rounded-xl  pt-2.5 px-4">
      <div class="flex justify-between mb-2.5">
        <div class="text-xl font-semibold text-primary-1">
          Dịch vụ trong ngày
        </div>
        <div class="flex">
          <button tds-button color="secondary" class="mr-2.5">
            <span class="flex items-center">
              <i class="tdsi-excel-fill text-lg leading-none mr-2"></i>Xuất Excel
            </span>
          </button>
          <app-input-search [placeholder]="'Tìm kiếm theo họ tên, sđt'"></app-input-search>
        </div>
      </div>
      <div class="w-full h-[34rem]">
        <!-- table -->
        <tds-table templateMode class="w-full h-full" [scroll]="{y:'auto'}">
          <thead>
            <tr>
              <th>Company</th>
              <th>Contact</th>
              <th>Country</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Alfreds Futterkiste</td>
              <td>Maria Anders</td>
              <td>Germany</td>
            </tr>
            <tr>
              <td>Centro comercial Moctezuma</td>
              <td>Francisco Chang</td>
              <td>Mexico</td>
            </tr>
            <tr>
              <td>Centro comercial Moctezuma</td>
              <td>Francisco Chang</td>
              <td>Mexico</td>
            </tr>
            <tr>
              <td>Centro comercial Moctezuma</td>
              <td>Francisco Chang</td>
              <td>Mexico</td>
            </tr>
            <tr>
              <td>Ernst Handel</td>
              <td>Roland Mendel</td>
              <td>Austria</td>
            </tr>
            <tr>
              <td>Island Trading</td>
              <td>Helen Bennett</td>
              <td>UK</td>
            </tr>
            <tr>
              <td>Centro comercial Moctezuma</td>
              <td>Francisco Chang</td>
              <td>Mexico</td>
            </tr>
            <tr>
              <td>Ernst Handel</td>
              <td>Roland Mendel</td>
              <td>Austria</td>
            </tr>
            <tr>
              <td>Island Trading</td>
              <td>Helen Bennett</td>
              <td>UK</td>
            </tr>
            <tr>
              <td>Laughing Bacchus Winecellars</td>
              <td>Yoshi Tannamuri</td>
              <td>Canada</td>
            </tr>
            <tr>
              <td>Magazzini Alimentari Riuniti</td>
              <td>Giovanni Rovelli</td>
              <td>Italy</td>
            </tr>
            <tr>
              <td>Island Trading</td>
              <td>Helen Bennett</td>
              <td>UK</td>
            </tr>
            <tr>
              <td>Laughing Bacchus Winecellars</td>
              <td>Yoshi Tannamuri</td>
              <td>Canada</td>
            </tr>
            <tr>
              <td>Magazzini Alimentari Riuniti</td>
              <td>Giovanni Rovelli</td>
              <td>Italy</td>
            </tr>
          </tbody>
        </tds-table>
      </div>
    </div>
  </div>
  <!-- phan ben phai man hinh -->
  <div class="col-span-4  w-full">
    <div class="w-full px-4 pt-2.5 rounded-xl bg-white mb-4">
      <div class="flex justify-between py-2.5 mb-4">
        <div class="uppercase text-primary-1 text-xl font-semibold">
          lịch hẹn hôm nay
        </div>
        <button class="bg-primary-1 rounded-md p-1.5 border-solid border-primary-1 w-8 h-8">
          <i class="tdsi-plus-fill w-5 h-5 text-white"></i>
        </button>
      </div>
      <div class="grid grid-cols-8 gap-3 mb-4">
        <tds-form-field class="w-full col-span-7">
          <input tdsInput placeholder="Tìm kiếm theo bác sĩ, họ tên, sđt" autocomplete="off" />
          <span tdsPrefix><i class="text-neutral-1-500 tdsi-search-fill"></i></span>
        </tds-form-field>
        <button class="col-span-1 relative focus-visible:border-none">
          <img (click)="isStBgItemAppointment = !isStBgItemAppointment" src="assets/images/Button-icon-st-color.svg"
            alt="Button-icon-st-color.svg" class="w-[34px] ml-auto" />
          <ng-template #stBgItemAppointment [ngIf]="isStBgItemAppointment">
            <div
              class="absolute h-12 flex rounded-md right-0 bg-white shadow-md z-20 items-center w-72 justify-end gap-2.5 pr-2.5">
              <i
                class="tdsi-block-line text-3xl hover:text-4xl after:absolute after:content-['|'] relative after:bottom-1 after:-right-3 text-neutral-2-300 m-auto"></i>
              <i class="tdsi-tick-fill text-base w-[1.625rem] hover:w-[1.875rem] hover:text-lg border-1 border-solid rounded-full p-0"
                *ngFor="let icolor of dataBgAppointment" [style.background]="icolor.mainColor"
                [style.color]="icolor.mainColor" [style.border-color]="icolor.borderColor"
                (click)="onBgAppointment(icolor)" [ngStyle]="{
                color:
                  radioBgAppointment == icolor.mainColor
                    ? 'inherit'
                    : icolor.mainColor
              }">
              </i>
            </div>
          </ng-template>
        </button>

      </div>

      <!-- //lichhen -->
      <tds-tabset class="w-full ct-tds-tabset-nav">
        <tds-tab *ngFor="let tab of tabsIcon" [title]="titleTemplate2">
          <ng-template #titleTemplate2 let-active="active">
            <div class="flex items-center font-semibold cursor-pointer text-body-2 px-4 py-1.5 relative  group"
              [ngClass]="{
              'bg-primary-1': active,
              'rounded-2xl': active,
              'text-white': active,
              'border-transparent text-neutral-1-400  hover:border-primary-1':
                !active
            }">
              <span class="mr-2">{{ tab.name }}</span>
              <div class="text-caption-2 font-semibold py-0.5 px-1.5 rounded-full flex" [ngClass]="{
                'text-white bg-primary-1': active,
                'text-neutral-1-500 bg-neutral-3-100 group-hover:text-white group-hover:bg-primary-1':
                  !active
              }">
                {{ tab.count }}
              </div>
            </div>
          </ng-template>
          <!-- xử lý thông tin trong list lịch hẹn -->
          <div [ngSwitch]="tab.value" class="h-[35rem] overflow-y-auto tds-custom-scroll pr-2">
            <div *ngSwitchCase="'1'">
              <ng-container [ngTemplateOutlet]="appontmentList"></ng-container>
            </div>
            <div *ngSwitchCase="'2'">
              <ng-container [ngTemplateOutlet]="pane2"></ng-container>
            </div>
          </div>
        </tds-tab>
      </tds-tabset>
    </div>
    <div class="px-4 rounded-xl py-3.5 bg-white">
      <div class="text-xl font-semibold text-primary-1">
        Doanh thu
      </div>
      <div>
        <tds-progress [percent]="80" [successPercent]="40" type="circle"></tds-progress>
      </div>
    </div>
  </div>
</div>

<!-- nội dung của 1 tabs nav phần lịch hẹn | tabsnav1  -->
<ng-template #appontmentList>
  <app-appointment-list *ngFor="let item of dataAppointmentList" [status]="item.status" [bgColor]="radioBgAppointment"
    [nameCustomer]="item.nameCustomer" [nameDoctor]="item.nameDoctor" [time]="item.time" [nPDoctor]="item.nPDoctor">
  </app-appointment-list>
</ng-template>
<!-- nội dung của 1 tabs nav phần tiếp nhận khách hàng | tabsnav1  -->
<ng-template #pane1>
  <div class="grid xl:grid-cols-4 xl:gap-4 md:grid-cols-2 mdgap-2">
    <app-receive-customers *ngFor="let item of dataReceiveCustomers" [status]="item.status"
      [nameCustomer]="item.nameCustomer" [nameDoctor]="item.nameDoctor" [time]="item.time"></app-receive-customers>
  </div>
</ng-template>
<ng-template #pane2> pane 2 </ng-template>